<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Mini Scheme</title>
    <link rel="stylesheet" href="css/app.css" type="text/css" />
</head>
<body>
	<div id="header">
		<h2>Mini scheme</h2>
		<p>by <a href="http://csokavar.hu">encse</a></p>
	</div>
<div id="editor-wrap">
	<div id="editor"></div>
	<div id="editor-bottom">
		<div id="output" class="sicp-box">
			<p class="sicp-box-title">output</p>
			<div id="output-content" class="sicp-box-content">
			</div>
		</div>
		<div id="variables" class="sicp-box">
			<p class="sicp-box-title">variables</p>
			<div id="variables-content" class="sicp-box-content"></div>
		</div>
	</div>
</div>
<div id="footer">Copyright 2015, available on <a href="https://github.com/encse/sicp">GitHub</a></div>

<script src="lib/requirejs/require.js"></script>
<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script>
	require.config({
		paths: {
			ace: "js/ace"
		}
	});
</script>
<script src="js/app.js"></script>
<script>
	samples = [
		'samples/factorial.ms',
		'samples/odd-or-even.ms',
		'samples/counting-change.ms',
		'samples/n-queens.ms',
		'samples/return-with-callcc.ms',
		'samples/lazy-generator.ms',
		'samples/yin-yang.ms'
	];
	$.when.apply($, samples.map(function (url, i) {
		return $.get(url)
			.then(function (data) { samples[i] = data; })
			.fail(function(data) { samples[i] = null; });
	})).always(function() {
			var sicpEditor = new Editor.SicpEditor(
				document.getElementById("editor"),
				document.getElementById("output-content"),
				document.getElementById("variables-content"),
				samples.filter(function(sample) { return !!sample; })
		);
	});
</script>
</body>

</html>
